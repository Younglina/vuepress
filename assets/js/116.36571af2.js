(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{780:function(s,t,a){"use strict";a.r(t);var n=a(10),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"创建仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建仓库"}},[s._v("#")]),s._v(" 创建仓库")]),s._v(" "),a("p",[s._v("github新建一个名为 "),a("code",[s._v("你的用户名.github.io")]),s._v(" 的仓库")]),s._v(" "),a("ul",[a("li",[s._v("master分支 是存所有代码的")]),s._v(" "),a("li",[s._v("gh-pages分支 是存build之后的静态文件的")])]),s._v(" "),a("h2",{attrs:{id:"域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名"}},[s._v("#")]),s._v(" 域名")]),s._v(" "),a("h3",{attrs:{id:"选择域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择域名"}},[s._v("#")]),s._v(" 选择域名")]),s._v(" "),a("p",[s._v("在"),a("a",{attrs:{href:"https://wanwang.aliyun.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("万网"),a("OutboundLink")],1),s._v("上选择你需要的域名,需要实名认证,购买完成并审核通过后")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/Younglina/images/master/wanwang.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"域名解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名解析"}},[s._v("#")]),s._v(" 域名解析")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("先获取刚刚创建的仓库所对应的ip地址，"),a("code",[s._v("ping 你的用户名.github.io")]),a("br"),s._v(" "),a("img",{attrs:{src:"https://raw.githubusercontent.com/Younglina/images/master/pingGit.png",alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("添加解析，"),a("a",{attrs:{href:"https://dc.console.aliyun.com/next/index#/domain-list/all",target:"_blank",rel:"noopener noreferrer"}},[s._v("域名列表"),a("OutboundLink")],1),s._v("设置解析\n"),a("img",{attrs:{src:"https://raw.githubusercontent.com/Younglina/images/master/cnameList.png",alt:""}})])]),s._v(" "),a("li",[a("p",[s._v("添加记录，一个记录类型为"),a("code",[s._v("CNAME")]),s._v("的，记录值就是仓库名，一个记录类型为默认的，记录值为刚刚ping出来的ip\n"),a("img",{attrs:{src:"https://raw.githubusercontent.com/Younglina/images/master/cnameDns.png",alt:""}})])])]),s._v(" "),a("h3",{attrs:{id:"设置域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置域名"}},[s._v("#")]),s._v(" 设置域名")]),s._v(" "),a("p",[s._v("选择gh-pages分支，输入你的域名\n"),a("img",{attrs:{src:"https://raw.githubusercontent.com/Younglina/images/master/setCname.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"域名被清空"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#域名被清空"}},[s._v("#")]),s._v(" 域名被清空")]),s._v(" "),a("p",[s._v("在每次提交gh-pages分支后，设置的域名都会被清空，需要在gh-pages分支提交的时候新增一个名为"),a("code",[s._v("CNAME")]),s._v("的文件，\n没有后缀，文件内容为你的域名即可")]),s._v(" "),a("h3",{attrs:{id:"使用脚本运行上面操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本运行上面操作"}},[s._v("#")]),s._v(" 使用脚本运行上面操作")]),s._v(" "),a("ol",[a("li",[s._v("项目根目录新建"),a("code",[s._v("deploy.sh")]),s._v("文件")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝目录和文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/.github ./\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/CNAME ./\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f git@github.com:Younglina/Younglina.github.io.git master:gh-pages\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("package.json 新增运行命令")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"scripts": {\n  "deploy": "sh deploy.sh"\n},\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);