(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{789:function(t,a,s){"use strict";s.r(a);var e=s(10),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("前段时间用 mpvue 开发过一个仿网易云音乐的微信小程序("),s("a",{attrs:{href:"https://github.com/lucaswww/my-project",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),s("OutboundLink")],1),t._v(")，但似乎 mpvue 好像是不再维护了，偶然得知有个"),s("a",{attrs:{href:"https://nervjs.github.io/taro/docs/README.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Taro"),s("OutboundLink")],1),t._v("也可以开发小程序，但是用的是"),s("a",{attrs:{href:"https://react.docschina.org/docs/hello-world.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React"),s("OutboundLink")],1),t._v("，正好也想了解了解 React,所以体验了一下 Taro。"),s("a",{attrs:{href:"https://github.com/lucaswww/my-taro",target:"_blank",rel:"noopener noreferrer"}},[t._v("git 地址"),s("OutboundLink")],1),s("br"),t._v("\n程序体验"),s("br"),t._v(" "),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/11/28/1675820ca6aac26e?w=258&h=258&f=jpeg&s=45801",alt:""}}),t._v("\n发布成功以后发现正式环境 github 的 api")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/3/1677485be5e32cc9?w=286&h=93&f=png&s=5358",alt:""}}),t._v("\n导致页面会一直在那里转，就有点尴尬(😅)")]),t._v(" "),s("h2",{attrs:{id:"体验版预览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#体验版预览"}},[t._v("#")]),t._v(" 体验版预览")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/3/16774b00e557ba87?w=411&h=717&f=gif&s=459643",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"taro-简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#taro-简介"}},[t._v("#")]),t._v(" Taro 简介")]),t._v(" "),s("p",[t._v("Taro 是一套遵循 React 语法规范的 多端开发 解决方案。使用 Taro，我们可以只书写一套代码，再通过 Taro 的编译工具，将源代码分别编译出可以在不同端（微信小程序、H5、RN 等）运行的代码，组件可以使用 Taro 的 Taro-ui。(摘至"),s("a",{attrs:{href:"https://nervjs.github.io/taro/docs/README.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("h2",{attrs:{id:"taro-ui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#taro-ui"}},[t._v("#")]),t._v(" Taro-ui")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://taro-ui.aotu.io/#/docs/quickstart",target:"_blank",rel:"noopener noreferrer"}},[t._v("Taro-ui"),s("OutboundLink")],1),t._v("是一款基于 Taro 框架开发的多端 UI 组件库,里面的一些组件还是挺好用的，也挺好看的，官网很详细而且还有效果图提供观看和体验。")]),t._v(" "),s("h2",{attrs:{id:"react"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react"}},[t._v("#")]),t._v(" React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://react.docschina.org/docs/hello-world.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React"),s("OutboundLink")],1),t._v("的话跟着官网走一遍基本就能开发了，看了 react 以后还是觉得自己喜欢 vue 多一点(😂)")]),t._v(" "),s("h2",{attrs:{id:"项目流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目流程"}},[t._v("#")]),t._v(" 项目流程")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("npm install -g @tarojs/cli\ntaro init myApp\nnpm run dev:weapp\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"开发小程序注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发小程序注意事项"}},[t._v("#")]),t._v(" 开发小程序注意事项")]),t._v(" "),s("p",[t._v("（摘自官网）若使用 微信小程序预览模式 ，则需下载并使用"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html?t=18112721",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信开发者工具"),s("OutboundLink")],1),t._v("添加项目进行预览，此时需要注意微信开发者工具的项目设置")]),t._v(" "),s("ul",[s("li",[t._v("需要设置关闭 ES6 转 ES5 功能，开启可能报错")]),t._v(" "),s("li",[t._v("需要设置关闭上传代码时样式自动补全，开启可能报错")]),t._v(" "),s("li",[t._v("需要设置关闭代码压缩上传，开启可能报错"),s("br"),t._v("\n还有一些其他问题需要注意的，"),s("a",{attrs:{href:"https://nervjs.github.io/taro/docs/before-dev-remind.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("基本都指出了，我在实际开发中好像也没遇到过里面提及过的问题(😂)")])]),t._v(" "),s("h2",{attrs:{id:"开发相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发相关"}},[t._v("#")]),t._v(" 开发相关")]),t._v(" "),s("p",[t._v("app.js 对应的就是小程序的 app.json 一些基本配置可以在这里完成，比如 tarBar")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"tabBar": {\n   "list": [\n     {\n       "text": "音乐",\n       "pagePath": "pages/music/music",\n       "iconPath": "./img/music.png",\n       "selectedIconPath": "./img/music.png"\n     },\n     {\n       "text": "电影",\n       "pagePath": "pages/index/index",\n       "iconPath": "./img/movie.png",\n       "selectedIconPath": "./img/movie.png"\n     }\n   ]\n }\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("h3",{attrs:{id:"路由和传值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由和传值"}},[t._v("#")]),t._v(" 路由和传值")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("//可使用Taro的\nTaro.navigateTo({url:'/pages/some?tag=tags'})\n//或者\n<Navigator url=\"/pages/some?tag=tags\">更多</Navigator>\n//获取时使用\nthis.$router.params.tag\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"引用-iconfont"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引用-iconfont"}},[t._v("#")]),t._v(" 引用 iconfont")]),t._v(" "),s("p",[t._v("先去"),s("a",{attrs:{href:"http://www.iconfont.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("iconfont"),s("OutboundLink")],1),t._v("官网选择你想要的 icon，")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/11/2/166d3cc0398e3569?w=130&h=144&f=png&s=7982",alt:""}}),t._v("\n选择添加到你自己的项目\n"),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/11/2/166d3ccb49b2334c?w=301&h=272&f=png&s=11194",alt:""}}),t._v(" "),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/11/2/166d3cdb83b43cdf?w=575&h=299&f=png&s=26167",alt:""}}),t._v("\n复制上面的代码在浏览器里打开(前面记得加 https:)，\n然后在自己的项目中 src 目录下新建一个 icon.scss 名字随意 css 也行，复制在浏览器打开以后的内容粘贴进去，最后在 app.tsc 中 import './icon.scss'"),s("br"),t._v("\n使用"),s("code",[t._v('<Text class="iconfont icon-play-circle"></Text>')])]),t._v(" "),s("h3",{attrs:{id:"父子组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父子组件"}},[t._v("#")]),t._v(" 父子组件")]),t._v(" "),s("p",[t._v("在其他地方写好子组件后，父组件内直接\nimport 就行，传值的话直接在引用子组件时写入需要传递的数据即可")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<Child dataname={somedata} />\n//在子组件中使用\nthis.props.dataname即可获取传递过来的数据\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"获取-setstate-以后的值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取-setstate-以后的值"}},[t._v("#")]),t._v(" 获取 setState 以后的值")]),t._v(" "),s("p",[t._v("在开发过程中发现不能直接获取 setState 以后的值，因为 this.state 和 props 一定是异步更新的，所以不能在 setState 后马上拿到 state 的值，正确做法是")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" this.setState({\n   somedata: 1\n }, () => {\n   // 在这个函数内你可以拿到 setState 之后的值\n })\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);